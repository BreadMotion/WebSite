<!doctype html>
<html lang="ja">
  <head prefix="og: https://ogp.me/ns#">
    <meta charset="UTF-8" />
    <title>p5.jsで背景アニメーションを実装してみた | PanKUN Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="静的なポートフォリオサイトに動きを取り入れるため、p5.jsを使って背景アニメーションを実装しました。導入から10パターンの実装まで、初心者の目線で振り返ります。" />

    <!-- Canonical -->
    <link rel="canonical" href="https://breadmotion.github.io/WebSite/blog/blog_00015.html" />

    <!-- Google AdSense -->
<script
    async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5284984614496391"
    crossorigin="anonymous"
></script>


    <!-- JSON-LD -->
    <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://breadmotion.github.io/WebSite/blog/blog_00015.html"
  },
  "headline": "p5.jsで背景アニメーションを実装してみた",
  "description": "静的なポートフォリオサイトに動きを取り入れるため、p5.jsを使って背景アニメーションを実装しました。導入から10パターンの実装まで、初心者の目線で振り返ります。",
  "image": [
    "assets/img/ogp.png"
  ],
  "datePublished": "2025-11-29T00:00:00.000Z",
  "dateModified": "2025-11-29T00:00:00.000Z",
  "author": {
    "@type": "Person",
    "name": "PanKUN",
    "url": "https://breadmotion.github.io/WebSite"
  },
  "publisher": {
    "@type": "Organization",
    "name": "PanKUN",
    "logo": {
      "@type": "ImageObject",
      "url": "https://breadmotion.github.io/WebSite/assets/img/favicon-192.png"
    }
  }
}
    </script>

    <meta property="og:title" content="p5.jsで背景アニメーションを実装してみた | PanKUN Blog" />
    <meta property="og:description" content="静的なポートフォリオサイトに動きを取り入れるため、p5.jsを使って背景アニメーションを実装しました。導入から10パターンの実装まで、初心者の目線で振り返ります。" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://breadmotion.github.io/WebSite/blog/blog_00015.html" />
    <meta property="og:image" content="https://breadmotion.github.io/WebSite/assets/img/ogp.png" />
    <meta property="og:site_name" content="PanKUN" />
    <meta property="og:email" content="pankun.dev@gmail.com" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="p5.jsで背景アニメーションを実装してみた" />
    <meta name="twitter:description" content="静的なポートフォリオサイトに動きを取り入れるため、p5.jsを使って背景アニメーションを実装しました。導入から10パターンの実装まで、初心者の目線で振り返ります。" />
    <meta name="twitter:image" content="https://breadmotion.github.io/WebSite/assets/img/ogp.png" />

    <link rel="stylesheet" href="../assets/css/base.css" />
    <link rel="stylesheet" href="../assets/css/layout.css" />
    <link rel="stylesheet" href="../assets/css/blog.css" />
  </head>
  <body data-page="blog">
    <div class="page-shell">
      <main class="main-container">
        <article class="post-detail reveal-on-scroll">
          <header class="post-detail__header">
            <p class="post-detail__meta">2025/11/29 / 技術メモ</p>
            <h1 class="post-detail__title">p5.jsで背景アニメーションを実装してみた</h1>
            <p class="post-detail__description">静的なポートフォリオサイトに動きを取り入れるため、p5.jsを使って背景アニメーションを実装しました。導入から10パターンの実装まで、初心者の目線で振り返ります。</p>
            <p class="post-detail__tags"><a class="tag" href="../blog.html?tag=p5js">p5js</a> <a class="tag" href="../blog.html?tag=javascript">javascript</a> <a class="tag" href="../blog.html?tag=creative-coding">creative-coding</a> <a class="tag" href="../blog.html?tag=animation">animation</a></p>
          </header>

          <section class="post-detail__body markdown-body">
<p>こんにちは！パン君です。</p>
<p>クリエイティブコーディングの世界で有名な <strong>p5.js</strong> を使ってみることにしました。</p>
<h2>p5.js とは？</h2>
<p>Processing というアート向けプログラミング言語をWeb (JavaScript) で動くようにしたライブラリです。<br>「キャンバスに絵を描く」「動かす」といったことが、驚くほど簡単なコードで書けます。</p>
<h3>導入は超簡単</h3>
<p>npm でインストールする方法もありますが、今回は手軽に CDN で導入しました。<br>HTMLに1行足すだけです。</p>
<pre><code class="language-html">&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js&quot;&gt;&lt;/script&gt;
</code></pre>
<p>これだけで準備完了。</p>
<h2>さっそく書いてみる</h2>
<p>まずは「画面全体にキャンバスを作って、円を表示する」ところから始めました。  </p>
<pre><code class="language-javascript">function setup() {
  // 画面いっぱいのキャンバスを作る
  createCanvas(windowWidth, windowHeight);
}

function draw() {
  // 背景をクリア
  clear();
  
  // 円を描く (x, y, size)
  circle(100, 100, 50);
}
</code></pre>
<p>たったこれだけで描画できました。<br><code>setup()</code> が最初に1回だけ呼ばれて、<code>draw()</code> が毎フレーム呼ばれる仕組みです。</p>
<h2>パーティクルを飛ばしてみる</h2>
<p>円をクラス化して配列に入れ、座標を更新するようにすれば無数のパーティクルが動くアニメーションになります。</p>
<pre><code class="language-javascript">class Particle {
  constructor() {
    this.x = random(width);
    this.y = random(height);
  }
  
  update() {
    this.y -= 1; // 上に昇る
  }
  
  display() {
    circle(this.x, this.y, 5);
  }
}
</code></pre>
<p>これを <code>draw()</code> の中でループさせれば、泡のように昇るアニメーションの完成です。<br>ベクトルや三角関数を使えば、もっと複雑な動きも作れます。</p>
<h2>調子に乗って10パターン作った</h2>
<p>楽しくなってきたので、いろいろなパターンを実装してみました。</p>
<ol>
<li><strong>Network</strong>: 粒子同士を線でつなぐ（ニューラルネットワーク風）</li>
<li><strong>Cosmos</strong>: 星がキラキラ瞬く</li>
<li><strong>Rain</strong>: デジタルな雨（マトリックス風）</li>
<li><strong>Circuit</strong>: 回路図のようなパルスが走る</li>
</ol>
<p>...などなど、合計10種類！</p>
<p>ページを開くたびにランダムで切り替わるようにしたので、<br>リロードするたびに違う雰囲気が楽しめます。</p>
<h2>スマホ対策の罠</h2>
<p>実装中に一つハマったのが、 <strong>スマホでの横スクロール発生</strong> です。<br><code>createCanvas(windowWidth, windowHeight)</code><br>と書くと、PCでは問題ないのですが、スマホだとスクロールバーの幅が含まれたりして、微妙に画面幅を超えてしまうことがありました。</p>
<p>最終的には、</p>
<pre><code class="language-javascript">let w = document.documentElement.clientWidth;
</code></pre>
<p>のように、スクロールバーを除いた正確な幅を取得することで解決しました。</p>
<h2>まとめ</h2>
<p>初めて p5.js を触ってみましたが、 <strong>「コードで絵を描く」</strong> という体験はとても新鮮で楽しかったです。</p>
<p>みなさんも、自分のサイトに「ちょっとした遊び心」を足してみてはいかがでしょうか。</p>

          </section>

          <section class="section section--recommend">
            <h2 class="section__title">おすすめ記事</h2>
            <div id="recommendList" class="recommend-grid"></div>
          </section>
        </article>
      </main>
    </div>

    <script src="../assets/js/layout.js" defer></script>
    <script src="../assets/js/ui.js"></script>

    <canvas id="menuAnimationCanvas"></canvas>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
    <script src="../assets/js/particles.js"></script>
    <script src="../assets/js/recommend.js" defer></script>
  </body>
</html>